<article id="content" class="tabs fullscreen-page module-d">
  <div style="display: flex; width: 100%">
    <!--    <div class="content-left-panel">-->
    <!--      <h2 class="left-panel-title" translate>Pages</h2>-->
    <!--      <div class="content-left-panel-inner">-->
    <!--        <cdk-virtual-scroll-viewport itemSize="164" minBufferPx="2000" maxBufferPx="2000" style="height: 100%">-->
    <!--          <div-->
    <!--            class="doc-page"-->
    <!--            *cdkVirtualFor="let page of pages; let index = index"-->
    <!--            (click)="switchDocumentPage(index)"-->
    <!--          >-->
    <!--            <div class="page-menu-item">-->
    <!--              <span class="section" [ngClass]="{ 'selected': activeDocPage == index + 1 }">Page {{ index + 1 }}</span>-->
    <!--            </div>-->
    <!--            <ng-container *ngFor="let field of prepareShowingPage(index)">-->
    <!--              <span class="section sub">{{field.title}}</span>-->
    <!--            </ng-container>-->
    <!--          </div>-->
    <!--        </cdk-virtual-scroll-viewport>-->
    <!--      </div>-->
    <!--    </div>-->
    <div class="content-main-panel top-content">
      <div class="header-content">
        <div class="document-image-wrapper header-width">
          <h2 class="header-breadcrumb">
            <span translate>Confirm your details</span>
          </h2>
        </div>
      </div>
      <figure>
        <div class="text-center">
          <div
            class="documents-list"
            style="height: 60vh; width: 100%; overflow-y: auto"
            [ngClass]="{ centered: !checkObjectKeys(metaData).length }"
          >
            <div class="document-image-wrapper">
              <app-intake-form-preview
                [components]="components"
                [submission]="saveModel"
                [userField]="userField"
                [realVariable]="realVariable"
                (onChange)="handleSubmission($event)"
              ></app-intake-form-preview>
            </div>
          </div>
        </div>
      </figure>
      <br />
    </div>
    <!--    <div class="content-right-panel">-->
    <!--      <h2 class="right-panel-title" translate>Action Required</h2>-->

    <!--      <div *ngIf="pages.length">-->
    <!--        <div class="properties-section" *ngFor="let page of pages; let index = index">-->
    <!--          <span class="property-page-title"><span translate>Page</span> {{ index + 1 }}</span>-->
    <!--          <div *ngFor="let property of prepareShowingPage(index); let i = index" class="property-section">-->
    <!--            <div class="cursor-pointer" (click)="switchDocumentPage(index)">-->
    <!--              <label class="container cg-box">-->
    <!--                <input-->
    <!--                  type="checkbox"-->
    <!--                  name="defaultsField"-->
    <!--                  class="form-control"-->
    <!--                  [checked]="saveModel[property.key] && saveModel[property.key] !== ' ' && saveModel[property.key].length !== 0"-->
    <!--                  disabled-->
    <!--                />-->
    <!--                <span class="checkmark"></span>-->
    <!--              </label>-->
    <!--              <span>{{ getElement(property.fieldType) }}</span>-->
    <!--            </div>-->
    <!--            <div>-->
    <!--              <a class="" (click)="switchDocumentPage(index)">-->
    <!--                <img src="../../../../images/element-arrow.svg"/>-->
    <!--              </a>-->
    <!--            </div>-->
    <!--          </div>-->
    <!--        </div>-->
    <!--      </div>-->
    <!--    </div>-->
  </div>
  <div class="send-from" style="display: flex; width: 100%">
    <div class="content-main-panel send-form-main">
      <p
        class="double submit bottom-content"
        style="margin-top: 0; padding: 15px; border-top: none"
        *ngIf="!loading && !blockFields"
      >
        <span class="notice-a" *ngIf="savingError" translate>{{ savingError }}</span>

        <button type="submit" style="margin: 0px" (click)="$event.preventDefault(); save()">
          <span translate>Save</span>
        </button>
      </p>
    </div>
  </div>
  <!-- Form Builder -->
  <div *ngIf="formUpdated && !loading">
    <p class="notice-a" translate>Form Submitted.</p>
  </div>

  <div class="loading-spinner" *ngIf="loading">
    <div>
      <p class="text-center" translate>
        <span class="loader loader-bubbles">
          <span></span>
        </span>
      </p>
    </div>
  </div>
</article>
